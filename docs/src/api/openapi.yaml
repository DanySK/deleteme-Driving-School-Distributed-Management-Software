openapi: 3.0.0
info:
  version: 0.0.1
  title: Driving School Distributed Management System
  description: 'The project for the courses "Laboratory of software systems" and "Distributed Systems"'
servers:
  - description: Base URL that should be replaced with the gateway URL
    url: "http://localhost:8000/"
paths:
  "/dossiers":
    post:
      summary: "Register a new subscriber's dossier"
      operationId: DossierRegistration
      tags: [DossierService]
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SubscriberDocuments"
      responses:
        "200":
          description: "Dossier is created. Returns id"
          content:
            text/plain:
              example: "64633c11f85fe95eb801c0b6"
        "400":
          description: "Bad requst. Possible cases: 1) There are already a valid dossier with given fiscal code; 2) The subscriber age are not greater or equal to 16; 3) Subscriber name or surname contains numbers"
          content:
            text/plain:
              schema:
                type: string
                enum: [AGE_NOT_SUFFICIENT, VALID_DOSSIER_ALREDY_EXISTS, NAME_SURNAME_NOT_STRING]

  "/dossiers/{id}":
    get:
      summary: "Get all dossier information"
      operationId: dossierIdReading
      tags: [DossierService]
      parameters:
        - name: id
          in: path
          description: id of the dossier
          required: true
          schema:
              type: string
              example: "64633c11f85fe95eb801c0b6"
      responses:
        "200":
          description: ""
      
        

  #   put:
  "/test2":
    get:
      tags: [DrivingService]
      summary: "Get a user by id"
      operationId: getUser2
      responses:
        "200":
          description: ""

components:
  schemas:
    SubscriberDocuments:
      type: object
      required: [name, surname, birthdate, fiscal_code]
      properties:
        name:
          type: string
          example: "Homer"
        surname:
          type: string
          example: "Simpsons"
        birthdate:
          type: string
          format: date
          example: "1990-03-03"
        fiscal_code:
          type: string
          example: "SMPHMR80A01C573O"